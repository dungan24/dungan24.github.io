---
phase: 04-component-redesign
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - assets/css/custom/calendar.css
  - assets/css/custom/calendar-polish.css
autonomous: true
requirements:
  - CAL-01
  - CAL-02
  - CAL-03

must_haves:
  truths:
    - "캘린더가 글래스 카드 스타일(backdrop-filter, 테두리, 그림자)로 표시된다"
    - "지난 이벤트(closed)가 시각적으로 흐리게(muted), 진행중/예정 이벤트가 정상 강조로 구분된다"
    - "라이트 모드에서 캘린더 배경/텍스트/이벤트 상태가 가독성 있게 표시된다"
  artifacts:
    - path: "assets/css/custom/calendar.css"
      provides: "이벤트 상태별(is-status-closed, is-status-released, is-status-scheduled) CSS 규칙"
      contains: "is-status-closed"
    - path: "assets/css/custom/calendar-polish.css"
      provides: "글래스 카드 토큰 정합성, 라이트 모드 상태 오버라이드"
      contains: "mp-calendar"
  key_links:
    - from: "static/js/calendar/renderer.js"
      to: "assets/css/custom/calendar.css"
      via: "card.classList.add('is-status-' + statusClass)"
      pattern: "is-status-"
---

<objective>
캘린더 글래스 스타일 검증 + 이벤트 상태 시각 구분 CSS 추가 + 라이트 모드 최적화

Purpose: 캘린더가 이미 적용된 글래스 카드 스타일의 토큰 정합성을 확인하고, JS가 이미 주입하는 이벤트 상태 클래스에 대응하는 CSS 규칙을 추가하여 지남/진행중/예정 이벤트가 시각적으로 구분된다.
Output: 수정된 calendar.css + calendar-polish.css
</objective>

<execution_context>
@C:/Users/sc/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/sc/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-component-redesign/04-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: 캘린더 이벤트 상태 CSS + 글래스 토큰 정합성 확인 (CAL-01, CAL-02, CAL-03)</name>
  <files>assets/css/custom/calendar.css, assets/css/custom/calendar-polish.css</files>
  <action>
**Part A — CSS: 이벤트 상태 시각 구분 (CAL-02) — calendar.css**

`renderer.js`가 `.mp-upcoming__item`에 `is-status-released`, `is-status-closed`, `is-status-scheduled` 클래스를 이미 주입한다 (line 311). 이 클래스에 대응하는 CSS 규칙이 없다.

calendar.css에서 `.mp-upcoming__item` 관련 규칙 근처에 추가:

```css
/* Event status visual differentiation */
.mp-upcoming__item.is-status-closed {
  opacity: 0.5;
}
.mp-upcoming__item.is-status-closed .mp-upcoming__dot-line::before {
  background: var(--mp-text-muted, #64748B);
  box-shadow: none;
}

.mp-upcoming__item.is-status-released .mp-upcoming__dot-line::before {
  background: var(--mp-neon-green);
  box-shadow: 0 0 6px var(--mp-neon-green);
}

.mp-upcoming__item.is-status-scheduled .mp-upcoming__dot-line::before {
  /* default cyan — already styled in calendar-polish.css, 명시적 유지 */
  background: var(--mp-neon-cyan);
  box-shadow: 0 0 6px var(--mp-neon-cyan);
}
```

**Part B — CSS: 라이트 모드 상태 오버라이드 (CAL-02, CAL-03) — calendar-polish.css**

calendar-polish.css의 `:root:not(.dark)` 블록 내부 또는 근처에 추가:

```css
:root:not(.dark) .mp-upcoming__item.is-status-closed {
  opacity: 0.6;
}
:root:not(.dark) .mp-upcoming__item.is-status-closed .mp-upcoming__dot-line::before {
  background: #94A3B8;
  box-shadow: none;
}
:root:not(.dark) .mp-upcoming__item.is-status-released .mp-upcoming__dot-line::before {
  background: #059669;
  box-shadow: 0 0 4px rgba(5, 150, 105, 0.3);
}
:root:not(.dark) .mp-upcoming__item.is-status-scheduled .mp-upcoming__dot-line::before {
  background: #0891B2;
  box-shadow: 0 0 4px rgba(8, 145, 178, 0.3);
}
```

라이트 모드에서 opacity가 0.5면 너무 옅을 수 있으므로 0.6으로 높인다.
라이트 모드에서 네온 색상 대신 saturated darker 값 사용.

**Part C — 글래스 토큰 정합성 확인 (CAL-01, CAL-03)**

calendar-polish.css에서 `.mp-calendar.mp-glass-card` 규칙이 이미 `var(--mp-glass-bg)`, `var(--mp-glass-blur)`, `var(--mp-glass-border)`, `var(--mp-shadow-sm)` 토큰을 사용하고 있다. 이 토큰들은 custom.css에서 선언된 Phase 1 표준 토큰이다.

확인 사항:
1. `.mp-calendar.mp-glass-card`가 `background: var(--mp-glass-bg)`를 사용하는지 (custom.css 토큰)
2. `border: 1px solid var(--mp-glass-border)`를 사용하는지
3. 라이트 모드 오버라이드가 `:root:not(.dark)` 패턴을 따르는지 (`@media prefers-color-scheme` 사용 안 함)
4. `:root {}` 변수 선언이 calendar-polish.css에 없는지 (Phase 1 결정: 선언은 custom.css만)

위 4가지를 확인하고, 위반이 있으면 수정한다. 위반이 없으면 그대로 유지.

**주의사항:**
- calendar.css와 calendar-polish.css에 `:root {}` 변수 선언 블록 추가 금지
- `@media (prefers-color-scheme: dark)` 사용 금지
- renderer.js는 수정하지 않음 — 이미 올바른 클래스를 주입하고 있음
  </action>
  <verify>
1. Hugo 빌드 확인: `hugo --gc --minify 2>&1 | tail -5` (에러 0)
2. 상태 CSS 확인: `grep "is-status-closed" assets/css/custom/calendar.css`
3. 라이트 모드 상태 오버라이드 확인: `grep "is-status-released" assets/css/custom/calendar-polish.css`
4. `:root {}` 선언 블록 부재 확인: `grep "^:root {" assets/css/custom/calendar.css assets/css/custom/calendar-polish.css` (결과 없어야 함)
5. prefers-color-scheme 미사용 확인: `grep "prefers-color-scheme" assets/css/custom/calendar.css assets/css/custom/calendar-polish.css` (결과 없어야 함)
  </verify>
  <done>
- .mp-upcoming__item.is-status-closed가 opacity 0.5(dark)/0.6(light)로 흐리게 표시됨
- .mp-upcoming__item.is-status-released의 dot이 green으로 강조됨
- .mp-upcoming__item.is-status-scheduled의 dot이 cyan으로 표시됨
- 라이트 모드에서 상태 색상이 darker saturated 값으로 가독성 확보됨
- 글래스 토큰(--mp-glass-bg, --mp-glass-border 등)이 Phase 1 표준과 일치 확인됨
  </done>
</task>

</tasks>

<verification>
1. Hugo 빌드 성공 (에러 0)
2. DevTools로 `.mp-upcoming__item.is-status-closed` 검사: opacity가 적용됨
3. `.mp-upcoming__item.is-status-released`의 dot pseudo-element에 green 배경
4. 라이트 모드 전환 시 상태 색상이 darker 값으로 변경됨
5. `.mp-calendar.mp-glass-card`가 Phase 1 토큰만 사용
</verification>

<success_criteria>
- CAL-01: 캘린더가 글래스 카드 스타일로 표시되고 토큰이 Phase 1 표준과 일치한다
- CAL-02: 지남(closed)은 흐리게, 발표됨(released)은 green dot, 예정(scheduled)은 cyan dot으로 구분된다
- CAL-03: 라이트 모드에서 상태 구분이 가독성 있게 표시된다
</success_criteria>

<output>
After completion, create `.planning/phases/04-component-redesign/04-02-SUMMARY.md`
</output>
