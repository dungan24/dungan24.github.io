{{ if .Page.Params.chartData }}
<div class="chart-container" id="market-charts-root">

  <h3 class="chart-title">ğŸ“ˆ ì£¼ìš” ì§€í‘œ ì¶”ì´</h3>
  <div class="chart-box" id="chart-timeseries"></div>

  <h3 class="chart-title">ğŸ”— ìì‚° ê°„ ìƒê´€ê´€ê³„</h3>
  <div class="chart-box" id="chart-correlations"></div>

  <h3 class="chart-title">ğŸ¯ ì‹œì¥ êµ­ë©´ (Regime)</h3>
  <div class="chart-box" id="chart-regime" style="height:300px"></div>

  <h3 class="chart-title">ğŸ“Š ì„¹í„° ìƒëŒ€ê°•ë„</h3>
  <div class="chart-box" id="chart-sectors"></div>

  <h3 class="chart-title">ğŸ“‰ 5ì¼ ë³€ë™ ë¹„êµ</h3>
  <div class="chart-box" id="chart-5day" style="height:300px"></div>

</div>

<script src="/js/render-charts.js"></script>
<script>
  (function() {
    const chartDataUrl = '{{ .Page.Params.chartData }}';
    if (!chartDataUrl) return;
    fetch(chartDataUrl)
      .then(r => r.json())
      .then(data => renderAllCharts(data))
      .catch(err => {
        console.error('Chart data load failed:', err);
        document.getElementById('market-charts-root').innerHTML =
          '<p style="color:gray">ì°¨íŠ¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
      });
  })();
</script>
{{ end }}
