# AGENTS.md

Agent operating guide for `market-pulse-blog`.
This file is for agentic coding tools working inside this repository.

## 1) Project Snapshot

- Name: `market-pulse-blog`
- Runtime: Hugo static site (Blowfish theme)
- Purpose: render and publish briefing content generated by `../market-pulse`
- Key rendering layer: `layouts/partials/extend-footer.html` + `assets/css/custom.css`
- Data flow: `market-pulse` -> `market-pulse-blog` (content only)

Primary references:
- `CLAUDE.md`
- `config/_default/hugo.toml`
- `.github/workflows/hugo.yml`

## 2) Source-of-Truth Commands

### Run local dev server

```bash
hugo server --port 1314 --bind 0.0.0.0 --navigateToChanged
```

### Windows helper script

```bash
serve.cmd
```

### Production build check

```bash
hugo --gc --minify
```

## 3) Code and Rendering Conventions

- Do not edit generated briefing posts in `content/posts/` unless explicitly requested
- Treat `content/posts/pre-market-*.md` and `static/data/chart-data-*.json` as pipeline-managed outputs
- Keep markdown parsing rules in `layouts/partials/extend-footer.html` backward-compatible with writer output
- Keep visual style updates in `assets/css/custom.css`; avoid scattered inline styling
- Preserve mobile behavior across 640px, 768px, 1024px breakpoints

## 4) Contribution Guardrails for Agents

- Read target files before editing
- Prefer minimal, surgical changes
- Do not reformat unrelated files
- Never change data semantics in this repo; only rendering/transformation behavior
- If markdown parsing rules are changed, verify at least one recent pre-market post rendering end-to-end

Validation checklist before finishing:
- Run local Hugo server and verify `/posts/pre-market-YYYY-MM-DD/`
- Confirm news cards (`.mp-news-card`) parse headline/meta/excerpt separately
- Confirm no duplicated translation/excerpt text in rendered cards

## 5) Repo-Specific Workflow Hints

- This repo does not generate facts; it only renders/publishes supplied content
- If rendering looks stale, first verify source markdown/json arrival times in `content/posts/` and `static/data/`
- If `market-pulse` pipeline path is wrong, set `BLOG_REPO_PATH` in `market-pulse` before debugging blog UI

## 6) Maintenance

When changing operational behavior, update this file in the same PR:
- local run command/port
- Hugo build workflow
- markdown parsing rules in `extend-footer.html`
- key style/UX constraints for `custom.css`
